{"uid":"a1e5013ae08a983","name":"Test - test create & delete twice","fullName":"testcase.ACS.test_configuration_profile.TestConfigurationProfile#test_get_create_delete_twice","historyId":"1c7db9e6ef880553bf693fa93addde2d","time":{"start":1750357034584,"stop":1750357045968,"duration":11384},"status":"failed","statusMessage":"AssertionError: assert 400 == 200\n +  where 400 = <Response [400]>.status_code","statusTrace":"self = <testcase.ACS.test_configuration_profile.TestConfigurationProfile object at 0x00000277377DCC70>\nbase_api = <utils.base_api_acs.BaseAPIACS object at 0x000002773A645F00>\n\n    @allure.feature('COMMON')\n    @allure.title('Test - test create & delete twice')\n    def test_get_create_delete_twice(self,base_api):\n      json_data = load_body(\"profile_create\")\n>     ACSAPI.verify_create_get_delete_twice(self,base_api,endpoint,json_data)\n\ntestcase\\ACS\\test_configuration_profile.py:36: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <testcase.ACS.test_configuration_profile.TestConfigurationProfile object at 0x00000277377DCC70>\nbase_api = <utils.base_api_acs.BaseAPIACS object at 0x000002773A645F00>\nendpoint = 'configuration-profile'\njson_data = {'configurations': [{'category': 'Data Service', 'parameterValues': {'AddressingType': 'DHCP', 'ConnectionType': 'IP_Routed', 'FramingType': 'IPoE', 'Mode': 'RG Routed', ...}}], 'name': 'configuration_profile1qgjkF'}\n\n    def verify_create_get_delete_twice(self,base_api,endpoint,json_data):\n        json_data[\"name\"] = base_api.generate_ramdom(endpoint)\n        response_create = base_api.create(endpoint,json_data,need_random=False, field=\"name\")\n        assert response_create.status_code == 200\n        model_id = response_create.json()['_id']\n        print(\"the diff as following:\" , DeepDiff(json_data,response_create.json()))\n    \n        # check if the record could be created with same key, 200 means Yes, 409 means No\n        print(\"create the same body again\")\n        response_create = base_api.create(endpoint,json_data,need_random=False, field=\"name\")\n        assert response_create.status_code == 409\n    \n        # get the record\n        response_get = base_api.get_by_id(endpoint,model_id)\n>       assert response_get.status_code == 200\nE       assert 400 == 200\nE        +  where 400 = <Response [400]>.status_code\n\ntestcase\\ACS\\test_api_acs_common.py:47: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1750357007158,"stop":1750357007381,"duration":223},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"get_and_refresh_access_token","time":{"start":1750357007381,"stop":1750357009170,"duration":1789},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"base_api","time":{"start":1750357034567,"stop":1750357034584,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0}],"testStage":{"status":"failed","statusMessage":"AssertionError: assert 400 == 200\n +  where 400 = <Response [400]>.status_code","statusTrace":"self = <testcase.ACS.test_configuration_profile.TestConfigurationProfile object at 0x00000277377DCC70>\nbase_api = <utils.base_api_acs.BaseAPIACS object at 0x000002773A645F00>\n\n    @allure.feature('COMMON')\n    @allure.title('Test - test create & delete twice')\n    def test_get_create_delete_twice(self,base_api):\n      json_data = load_body(\"profile_create\")\n>     ACSAPI.verify_create_get_delete_twice(self,base_api,endpoint,json_data)\n\ntestcase\\ACS\\test_configuration_profile.py:36: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <testcase.ACS.test_configuration_profile.TestConfigurationProfile object at 0x00000277377DCC70>\nbase_api = <utils.base_api_acs.BaseAPIACS object at 0x000002773A645F00>\nendpoint = 'configuration-profile'\njson_data = {'configurations': [{'category': 'Data Service', 'parameterValues': {'AddressingType': 'DHCP', 'ConnectionType': 'IP_Routed', 'FramingType': 'IPoE', 'Mode': 'RG Routed', ...}}], 'name': 'configuration_profile1qgjkF'}\n\n    def verify_create_get_delete_twice(self,base_api,endpoint,json_data):\n        json_data[\"name\"] = base_api.generate_ramdom(endpoint)\n        response_create = base_api.create(endpoint,json_data,need_random=False, field=\"name\")\n        assert response_create.status_code == 200\n        model_id = response_create.json()['_id']\n        print(\"the diff as following:\" , DeepDiff(json_data,response_create.json()))\n    \n        # check if the record could be created with same key, 200 means Yes, 409 means No\n        print(\"create the same body again\")\n        response_create = base_api.create(endpoint,json_data,need_random=False, field=\"name\")\n        assert response_create.status_code == 409\n    \n        # get the record\n        response_get = base_api.get_by_id(endpoint,model_id)\n>       assert response_get.status_code == 200\nE       assert 400 == 200\nE        +  where 400 = <Response [400]>.status_code\n\ntestcase\\ACS\\test_api_acs_common.py:47: AssertionError","steps":[],"attachments":[{"uid":"72751eb46c0ff17f","name":"Request Info","source":"72751eb46c0ff17f.json","type":"application/json","size":847},{"uid":"80232fa1ada5cbdd","name":"Response Info","source":"80232fa1ada5cbdd.json","type":"application/json","size":878},{"uid":"30c7fbeb68bd2a35","name":"Request Info","source":"30c7fbeb68bd2a35.json","type":"application/json","size":847},{"uid":"a74bdaa2f6b76ec6","name":"Response Info","source":"a74bdaa2f6b76ec6.json","type":"application/json","size":245},{"uid":"7b01357fe2267a1d","name":"Request Info","source":"7b01357fe2267a1d.json","type":"application/json","size":171},{"uid":"c0cfbf83f4b0f1ee","name":"Response Info","source":"c0cfbf83f4b0f1ee.json","type":"application/json","size":86}],"parameters":[],"hasContent":true,"attachmentStep":false,"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":6},"afterStages":[],"labels":[{"name":"feature","value":"COMMON"},{"name":"parentSuite","value":"testcase.ACS"},{"name":"suite","value":"test_configuration_profile"},{"name":"subSuite","value":"TestConfigurationProfile"},{"name":"host","value":"Cherry-640879"},{"name":"thread","value":"25216-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"testcase.ACS.test_configuration_profile"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"base_api","value":"'test'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":[]},"source":"a1e5013ae08a983.json","parameterValues":["'test'"]}